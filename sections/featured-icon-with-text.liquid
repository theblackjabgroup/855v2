<script src="{{ 'icon-with-text.js' | asset_url }}" defer="defer"></script>

<style>
    * {
      margin: 0;
      padding: 0;
    }
    .icon-with-text-container {
      padding: 2rem;
      display: flex;
      overflow-x: scroll;
      gap: 1rem;
      scrollbar-width: none;
    }
    .card__outer__container {
    }
    .card__container {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 309px;
      height: 309px;
      background-color: #b4b4b4;
      border-radius: 8px;
    }
    .card__inner_container {
      position: relative;
      width: 261px;
      height: 261px;
      background: white;
      border-radius: inherit;
    }

    .card__contents {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .card__icon {
      width: 96px;
      height: 96px;
      margin: auto;
      background: #b4b4b4;
    }
    .card__icon > img {
      width: 100%;
      height: 100%;
    }

    .card__title {
      font-weight: 600;
      line-height: 36px;
      text-align: center;
      font-size: 24px;
    }

    .description__container {
      overflow: hidden;
      opacity: 0.75;
      display: flex;
      flex-direction: column;
      align-items: end;
      text-align: start;
      background-color: #b4b4b4;
      top: 100%;
      bottom: 0;
      left: 0;
      gap: 1rem;
      right: 100%;
      padding: 0rem 0rem;
      transition: all 0.5s ease-in-out;
      border-radius: 50%;
      position: absolute;
    }

    .description__container > p {
      font-weight: 400;
      font-size: 16px;
    }

    .description__container.active {
      opacity: 1;
      border-radius: 0;
      padding: 2rem;
      top: 0;
      right: 0;
    }

    .description__button__outer__container {
      position: absolute;
      bottom: 0;
    }
    .description__button__container {
      cursor: pointer;
      border: none;
      outline: none;
      background: #b4b4b4;
      width: 69px;
      height: 69px;
      border-radius: 0 50% 0 0;
    }

    .description__button__container::before {
      content: "";
      position: absolute;
      background-color: transparent;
      left: 100%;
      bottom: 0;
      height: 15px;
      width: 30px;
      border-radius: 0 0 0 50%;
      box-shadow: -18px 0 0 0 #b4b4b4;
    }
    .description__button__container::after {
      content: "";
      position: absolute;
      background-color: transparent;
      left: 0;
      bottom: 100%;
      height: 30px;
      width: 15px;
      border-radius: 0 0 0 50%;
      box-shadow: 0 18px 0 0 #b4b4b4;
    }
    .description__button__inner_container {
      display: flex;
      justify-content: center;
      align-items: center;
      transform: rotate(0deg);
      transition: all 0.5s ease-in-out;
    }

    .description__button__inner_container.active {
      transform: rotate(45deg);
    }

    .description__close__button {
      transform: rotate(45deg);
      cursor: pointer;
    }

    .icon {
      color: black;
      width: 24px;
      height: 24px;
    }
  </style>

<div class="icon-with-text-container">
  {% for item in section.blocks %}
          <div class="card__outer__container">
        <div class="card__container">
          <div class="card__inner_container">
            <div class="card__contents">
              <div class="card__icon">
                <img src="{{ item.settings.icon |  image_url  }}" width="100" height="100" alt="icon" />
              </div>
              <div class="card__title">
                <p>Pay On Delivery</p>
              </div>
            </div>
            <div class="description__button__outer__container">
              <button class="description__button__container">
                <span class="description__button__inner_container">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    class="icon icon-plus"
                    viewBox="0 0 10 10"
                  >
                    <path
                      fill="currentColor"
                      fill-rule="evenodd"
                      d="M1 4.51a.5.5 0 0 0 0 1h3.5l.01 3.5a.5.5 0 0 0 1-.01V5.5l3.5-.01a.5.5 0 0 0-.01-1H5.5L5.49.99a.5.5 0 0 0-1 .01v3.5l-3.5.01z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </span>
              </button>
            </div>
            <div class="description__container">
              <span class="description__close__button">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  class="icon icon-plus icon-close"
                  viewBox="0 0 10 10"
                >
                  <path
                    fill="currentColor"
                    fill-rule="evenodd"
                    d="M1 4.51a.5.5 0 0 0 0 1h3.5l.01 3.5a.5.5 0 0 0 1-.01V5.5l3.5-.01a.5.5 0 0 0-.01-1H5.5L5.49.99a.5.5 0 0 0-1 .01v3.5l-3.5.01z"
                    clip-rule="evenodd"
                  />
                </svg>
              </span>
              <p>
                {{ item.settings.description }}
              </p>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
    </div>

{% schema %}
{
  "name": "Icon With Text",
  "limit": 1,
  "tag": "section",
  "settings": [],
  "blocks": [
    {
      "type": "card",
      "name": "card",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "icon"
        },
        {
          "type": "text",
          "id": "title",
          "label": "title"
        },
        {
          "type": "text",
          "id": "description",
          "label": "description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Icon With Text",
      "blocks": [
      {
        "type": "card"
      }
      ]
    }
  ]
}
{% endschema %}
