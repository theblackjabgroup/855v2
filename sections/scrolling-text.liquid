{% schema %}
{
"name": "Scrolling Text",
"settings": [
{
"type": "color_scheme",
"id": "color_scheme",
"label": "Color Scheme",
"default": "scheme-1"
},
{
"type": "header",
"content": "Global Strip Settings"
},
{
"type": "range",
"id": "strip_padding_top",
"min": 0,
"max": 50,
"step": 1,
"unit": "px",
"label": "Top Padding",
"default": 10
},
{
"type": "range",
"id": "strip_padding_bottom",
"min": 0,
"max": 50,
"step": 1,
"unit": "px",
"label": "Bottom Padding",
"default": 10
},
{
"type": "header",
"content": "First Strip Settings"
},
{
"type": "checkbox",
"id": "first_strip_pause",
"label": "Pause First Strip on Hover",
"default": true
},
{
"type": "select",
"id": "first_strip_direction",
"label": "First Strip Direction",
"options": [
{
"value": "left",
"label": "Left to Right"
},
{
"value": "right",
"label": "Right to Left"
}
],
"default": "left"
},
{
"type": "header",
"content": "Second Strip Settings"
},
{
"type": "checkbox",
"id": "second_strip_pause",
"label": "Pause Second Strip on Hover",
"default": true
},
{
"type": "select",
"id": "second_strip_direction",
"label": "Second Strip Direction",
"options": [
{
"value": "left",
"label": "Left to Right"
},
{
"value": "right",
"label": "Right to Left"
}
],
"default": "right"
},
{
"type": "header",
"content": "Third Strip Settings"
},
{
"type": "checkbox",
"id": "third_strip_pause",
"label": "Pause Third Strip on Hover",
"default": true
},
{
"type": "select",
"id": "third_strip_direction",
"label": "Third Strip Direction",
"options": [
{
"value": "left",
"label": "Left to Right"
},
{
"value": "right",
"label": "Right to Left"
}
],
"default": "left"
},
{
"type": "header",
"content": "Text-Only Strip Settings"
},
{
"type": "checkbox",
"id": "text_only_strip_pause",
"label": "Pause Text-Only Strip on Hover",
"default": true
},
{
"type": "select",
"id": "text_only_strip_direction",
"label": "Text-Only Strip Direction",
"options": [
{
"value": "left",
"label": "Left to Right"
},
{
"value": "right",
"label": "Right to Left"
}
],
"default": "right"
},
{
"type": "text",
"id": "word1",
"label": "Word 1",
"default": "Hello"
},
{
"type": "text",
"id": "word2",
"label": "Word 2",
"default": "Welcome"
},
{
"type": "text",
"id": "word3",
"label": "Word 3",
"default": "To"
},
{
"type": "text",
"id": "word4",
"label": "Word 4",
"default": "Our"
},
{
"type": "text",
"id": "word5",
"label": "Word 5",
"default": "Store"
},
{
"type": "text",
"id": "text_only_strip",
"label": "Text-Only Strip Content",
"default": "Special Offers | Free Shipping | Sale Now On"
},
{
"type": "image_picker",
"id": "word1_image",
"label": "Image for Word 1"
},
{
"type": "image_picker",
"id": "word2_image",
"label": "Image for Word 2"
},
{
"type": "image_picker",
"id": "word3_image",
"label": "Image for Word 3"
},
{
"type": "image_picker",
"id": "word4_image",
"label": "Image for Word 4"
},
{
"type": "image_picker",
"id": "word5_image",
"label": "Image for Word 5"
},
{
"type": "range",
"id": "word_iterations",
"min": 1,
"max": 50,
"step": 1,
"label": "Number of Word Iterations",
"default": 10
},
{
"type": "range",
"id": "text_only_iterations",
"min": 1,
"max": 50,
"step": 1,
"label": "Text-Only Strip Iterations",
"default": 15
},
{
"type": "range",
"id": "image_width",
"min": 20,
"max": 200,
"step": 10,
"unit": "px",
"label": "Image Width",
"default": 50
},
{
"type": "range",
"id": "image_height",
"min": 20,
"max": 200,
"step": 10,
"unit": "px",
"label": "Image Height",
"default": 50
},
{
"type": "range",
"id": "scroll_speed",
"min": 10,
"max": 60,
"step": 5,
"unit": "s",
"label": "Scrolling Speed",
"default": 20
}
],
"presets": [
{
"name": "Scrolling Text"
}
]
}
{% endschema %}

<style>
    .marquee-container {
      width: 100%;
      height:30vh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow: hidden;
      position: relative;
      background-color: rgb(var(--color-background));
    }
    .marquee-inner {
      display: flex;
      flex-direction: column;
      overflow: hidden;
      height:30vh;
      align-items:center;
      justify-content:center;
    }

    /* First Strip Animations */
.first-strip-content {
      display: flex;
      animation-name: marquee-first-strip;
      animation-duration: {{ section.settings.scroll_speed }}s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
      animation-direction: {% if section.settings.first_strip_direction == 'right' %}reverse{% else %}normal{% endif %};
      transform: rotate(-5deg);
      z-index: 30;
    }
    @keyframes marquee-first-strip {
    0% {
      transform:
        rotate(-5deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(-5deg)
        translateX(-20%);
    }
    }

    /* Second Strip Animations */
    .second-strip-content {
      display: flex;
      animation-name: marquee-second-strip;
      animation-duration: {{ section.settings.scroll_speed }}s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
      animation-direction: {% if section.settings.second_strip_direction == 'right' %}reverse{% else %}normal{% endif %};
      transform: rotate(5deg);
      z-index: 20;
    }
    @keyframes marquee-second-strip {
    0% {
      transform:
        rotate(5deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(5deg)
        translateX(-20%);
    }
    }

    /* Third Strip Animations */
.third-strip-content {
      display: flex;
      animation-name: marquee-third-strip;
      animation-duration: {{ section.settings.scroll_speed }}s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
      animation-direction: {% if section.settings.third_strip_direction == 'right' %}reverse{% else %}normal{% endif %};
      transform: rotate(-5deg);
      z-index: 30;
    }
    @keyframes marquee-third-strip {
    0% {
      transform:
        rotate(-5deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(-5deg)
        translateX(-20%);
    }
    }

    /* Text-Only Strip Animations */
    .text-only-strip-content {
      display: flex;
      animation-name: marquee-text-only-strip;
      animation-duration: {{ section.settings.scroll_speed }}s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
      animation-direction: {% if section.settings.text-only_strip_direction == 'right' %}reverse{% else %}normal{% endif %};
      transform: rotate(5deg);
      z-index: 20;
    }
    @keyframes marquee-text-only-strip {
    0% {
      transform:
        rotate(5deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(5deg)
        translateX(-20%);
    }
    }

    /* Hover Pause Logic */
    {% if section.settings.first_strip_pause %}
    .first-strip-content:hover {
      animation-play-state: paused;
    }
    {% endif %}

    {% if section.settings.second_strip_pause %}
    .second-strip-content:hover {
      animation-play-state: paused;
    }
    {% endif %}

    {% if section.settings.third_strip_pause %}
    .third-strip-content:hover {
      animation-play-state: paused;
    }
    {% endif %}

    {% if section.settings.text_only_strip_pause %}
    .text-only-strip-content:hover {
      animation-play-state: paused;
    }
    {% endif %}

.marquee-item,
.text-only-marquee-item {
  display: flex;
  align-items: center;
  padding-top: {{ section.settings.strip_padding_top }}px;
  padding-bottom: {{ section.settings.strip_padding_bottom }}px;
  padding-left: 10px;
  padding-right: 10px;
  white-space: nowrap;
  flex-shrink: 0;
  background-color: var(--background_product_card);
  color: var(--color_text);
}

    .marquee-text,
    .text-only-marquee-text {
      display: inline-block;
      margin-right: 20px;
      font-weight: bold;
    }

    .marquee-image {
      object-fit: content;
      border-radius: 3px;
    }

  @media screen and (min-width: 768px) {
        .marquee-container {
      height:50vh;
    }
    .marquee-inner {
      height:50vh;
    }
        .text-only-strip-content {
      transform: rotate(3deg);
    }
    @keyframes marquee-text-only-strip {
    0% {
      transform:
        rotate(3deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(3deg)
        translateX(-20%);
    }
    }
        .first-strip-content {
      transform: rotate(3deg);
      margin-top:30px;

    }
    @keyframes marquee-first-strip {
    0% {
      transform:
        rotate(-3deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(-3deg)
        translateX(-20%);
    }
    }
        .second-strip-content {
      transform: rotate(3deg);
       margin-top:30px;

    }
    @keyframes marquee-second-strip {
    0% {
      transform:
        rotate(3deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(3deg)
        translateX(-20%);
    }
    }
        .third-strip-content {
      transform: rotate(-3deg);
                              margin-top:30px;

    }
    @keyframes marquee-third-strip {
    0% {
      transform:
        rotate(-3deg)
        translateX(20%);
    }
    100% {
      transform:
        rotate(-3deg)
        translateX(-20%);
    }
    }
  }
</style>

<div class="marquee-container color-{{ section.settings.color_scheme }}">
  <div class="marquee-inner">
    <!-- Fourth Strip (Text Only with custom direction and pause) -->
    <div
      class="text-only-marquee-content text-only-strip-content"
      style="animation-direction: {% if section.settings.text_only_strip_direction == 'right' %}normal{% else %}reverse{% endif %};"
    >
      {% assign text_only_content = section.settings.text_only_strip | strip %}

      {% for repeat in (1..section.settings.text_only_iterations) %}
        <div class="text-only-marquee-item">
          <span class="text-only-marquee-text">{{ text_only_content }}</span>
        </div>
      {% endfor %}
    </div>

    <!-- First Strip (with custom direction and pause) -->
    <div
      class="marquee-content first-strip-content"
      style="animation-direction: {% if section.settings.first_strip_direction == 'right' %}normal{% else %}reverse{% endif %};"
    >
      {% assign word_inputs = 'word1,word2,word3,word4,word5' | split: ',' %}
      {% assign iterations = section.settings.word_iterations %}
      {% for repeat in (1..iterations) %}
        {% for word_input in word_inputs %}
          {% assign current_word = section.settings[word_input] %}
          {% assign image_setting = word_input | append: '_image' %}
          {% assign current_image = section.settings[image_setting] %}
          {% if current_word != blank %}
            <div class="marquee-item">
              <span class="marquee-text">{{ current_word }}</span>
              {% if current_image %}
                <img
                  src="{{ current_image | img_url: 'master' }}"
                  alt="{{ current_word }}"
                  width="{{ section.settings.image_width }}"
                  height="{{ section.settings.image_height }}"
                  class="marquee-image"
                >
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      {% endfor %}
    </div>

    <!-- Second Strip (with custom direction and pause) -->
    <div
      class="marquee-content second-strip-content"
      style="animation-direction: {% if section.settings.second_strip_direction == 'right' %}normal{% else %}reverse{% endif %};"
    >
      {% for repeat in (1..iterations) %}
        {% for word_input in word_inputs %}
          {% assign current_word = section.settings[word_input] %}
          {% assign image_setting = word_input | append: '_image' %}
          {% assign current_image = section.settings[image_setting] %}

          {% if current_word != blank %}
            <div class="marquee-item">
              <span class="marquee-text">{{ current_word }}</span>
              {% if current_image %}
                <img
                  src="{{ current_image | img_url: 'master' }}"
                  alt="{{ current_word }}"
                  width="{{ section.settings.image_width }}"
                  height="{{ section.settings.image_height }}"
                  class="marquee-image"
                >
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      {% endfor %}
    </div>

    <!-- Third Strip (with custom direction and pause) -->
    <div
      class="marquee-content third-strip-content"
      style="animation-direction: {% if section.settings.third_strip_direction == 'right' %}normal{% else %}reverse{% endif %};"
    >
      {% for repeat in (1..iterations) %}
        {% for word_input in word_inputs %}
          {% assign current_word = section.settings[word_input] %}
          {% assign image_setting = word_input | append: '_image' %}
          {% assign current_image = section.settings[image_setting] %}

          {% if current_word != blank %}
            <div class="marquee-item">
              <span class="marquee-text">{{ current_word }}</span>
              {% if current_image %}
                <img
                  src="{{ current_image | img_url: 'master' }}"
                  alt="{{ current_word }}"
                  width="{{ section.settings.image_width }}"
                  height="{{ section.settings.image_height }}"
                  class="marquee-image"
                >
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      {% endfor %}
    </div>
  </div>
</div>
